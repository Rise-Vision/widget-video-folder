if("undefined"==typeof config){var config={};"undefined"!=typeof angular&&(angular.module("risevision.common.i18n.config",[]).constant("LOCALES_PREFIX","components/rv-common-i18n/dist/locales/translation_").constant("LOCALES_SUFIX",".json"),angular.module("risevision.widget.common.storage-selector.config").value("STORAGE_MODAL","http://storage.risevision.com/~rvi/storage-client-rva-test/storage-modal.html#/files/"))}var RiseVision=RiseVision||{};RiseVision.VideoFolder={},RiseVision.VideoFolder=function(e,t){"use strict";function i(){t.rpc.call("","rsevent_ready",null,c.getString("id"),!0,!0,!0,!0,!0)}function a(){g=new RiseVision.VideoFolder.Slider(u),g.init()}function o(){}function n(){}function r(i){c=new t.Prefs,u=i,u.width=c.getInt("rsW"),u.height=c.getInt("rsH"),e.getElementById("container").style.height=c.getInt("rsH")+"px",l=new RiseVision.Common.Background(u),l.init(a)}function s(){i()}function d(){}var c=null,u={},l=null,g=null;return{pause:o,play:n,setAdditionalParams:r,sliderReady:s,stop:d}}(document,gadgets);var RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.Background=function(e){"use strict";function t(){setTimeout(function(){d.style.backgroundImage="url("+e.background.image.url+g+"cb="+(new Date).getTime()+")",t()},u)}function i(){s=!0,e.background.useImage&&!l&&t(),r&&"function"==typeof r&&r()}function a(e){c.removeEventListener("rise-storage-response",a),d.style.backgroundImage=Array.isArray(e.detail)?"url("+e.detail[0]+")":"url("+e.detail+")",i()}function o(){var t;d=document.getElementById("background"),c=document.getElementById("backgroundStorage"),document.body.style.background=e.background.color,d?e.background.useImage?(d.className=e.background.image.position,d.className=e.background.image.scale?d.className+" scale-to-fit":d.className,l=0!==Object.keys(e.backgroundStorage).length,l?c?(c.addEventListener("rise-storage-response",a),c.setAttribute("folder",e.backgroundStorage.folder),c.setAttribute("fileName",e.backgroundStorage.fileName),c.setAttribute("companyId",e.backgroundStorage.companyId),c.go()):console.log("Missing element with id value of 'backgroundStorage'"):(t=e.background.image.url.split("?"),g=1===t.length?"?":"&",d.style.backgroundImage="url("+e.background.image.url+")",i())):i():console.log("Missing element with id value of 'background'")}function n(e){s?e&&"function"==typeof e&&e():(e&&(r=e),o())}var r=null,s=!1,d=null,c=null,u=9e5,l=!1,g="";return{init:n}};var RiseVision=RiseVision||{};RiseVision.VideoFolder=RiseVision.VideoFolder||{},RiseVision.VideoFolder.Slider=function(e){"use strict";function t(e){var t=null,i=e.substr(e.lastIndexOf(".")+1),a=i.split("?");if("undefined"!=typeof a[0]&&""!==a[0])switch(a[0]){case"mp4":t="data-videomp4";break;case"webm":t="data-videowebm";break;case"ogg":case"ogv":t="data-videoogv";break;default:t=null}return t}function i(e){var t={};switch(t.sort="",t.direction="",e){case"alpha-asc":t.sort="name",t.direction="asc";break;case"alpha-desc":t.sort="name",t.direction="desc";break;case"date-asc":t.sort="date",t.direction="asc";break;case"date-desc":t.sort="date",t.direction="desc";break;case"random":t.sort="random";break;default:t.sort="name",t.direction="asc"}return t}function a(){var i=document.querySelector(".tp-banner ul"),a=document.createDocumentFragment(),o=[],n=null;d.forEach(function(i){var a=document.createElement("img"),r=document.createElement("div"),s=t(i);n=document.createElement("li"),n.setAttribute("data-transition","slidehorizontal"),n.setAttribute("data-masterspeed",1e3),n.setAttribute("data-slotamount",1),a.src="https://s3.amazonaws.com/Rise-Images/UI/FFFFFF-0.0.png",a.setAttribute("data-bgfit","cover"),a.setAttribute("data-bgrepeat","no-repeat"),a.setAttribute("data-bgposition","center center"),r.setAttribute("class","tp-caption tp-fade fadeout fullscreenvideo tp-videolayer"),r.setAttribute("data-x",0),r.setAttribute("data-y",0),r.setAttribute("data-speed",1e3),r.setAttribute("data-start",1100),r.setAttribute("data-easing","Power4.easeOut"),r.setAttribute("data-elementdelay",.01),r.setAttribute("data-endelementdelay",.1),r.setAttribute("data-endspeed",1500),r.setAttribute("data-endeasing","Power4.easeIn"),r.setAttribute("data-autoplay","false"),r.setAttribute("data-autoplayonlyfirsttime","false"),r.setAttribute("data-nextslideatend","true"),r.setAttribute("data-videowidth","100%"),r.setAttribute("data-videoheight","100%"),r.setAttribute("data-ytid",""),r.setAttribute("data-vimeoid",""),r.setAttribute("data-videoattributes",""),r.setAttribute("data-videopreload","meta"),r.setAttribute("data-videoloop","none"),r.setAttribute("data-forcecover",1),r.setAttribute("data-forcerewind","on"),r.setAttribute("data-aspectratio","16:9"),"data-videoogv"===s?(r.setAttribute(t(i),i),r.setAttribute("data-videowebm","")):"data-videowebm"===s?(r.setAttribute(t(i),i),r.setAttribute("data-videoogv",i)):r.setAttribute(t(i),i),e.video.autoplay?r.setAttribute("data-videocontrols","controls"):r.setAttribute("data-videocontrols","none"),n.appendChild(a),n.appendChild(r),o.push(n)}),o.forEach(function(e){a.appendChild(e)}),i.appendChild(a)}function o(t){var i=document.querySelector(".tp-banner"),o=document.createElement("ul");i.appendChild(o),d=t,a(),u=$(".tp-banner").revolution({delay:9e3,startwidth:e.width,startheight:e.height,navigationType:"none",touchenabled:"on",onHoverStop:"on",swipe_velocity:.7,swipe_min_touches:1,swipe_max_touches:1,keyboardNavigation:"off",shadow:0,fullWidth:"off",fullScreen:"off",stopLoop:"off",stopAfterLoops:-1,stopAtSlide:-1,shuffle:"off",forceFullWidth:"off",fullScreenAlignForce:"off",hideTimerBar:"on",hideSliderAtLimit:0,hideCaptionAtLimit:0,hideAllCaptionAtLilmit:0}),RiseVision.VideoFolder.sliderReady()}function n(){var t=i(e.order);s.addEventListener("rise-storage-response",function(e){c&&o(e.detail)}),s.setAttribute("companyId",e.storage.companyId),s.setAttribute("folder",e.storage.folder),s.setAttribute("sort",t.sort),s.setAttribute("sortDirection",t.direction),s.go()}function r(){c&&n()}var s=document.getElementById("videoFolderStorage"),d=null,c=!0,u=null;return{init:r}},function(e,t){"use strict";function i(){}function a(){}function o(){}function n(e,t){Array.isArray(e)&&e.length>0&&"additionalParams"===e[0]&&Array.isArray(t)&&t.length>0&&RiseVision.VideoFolder.setAdditionalParams(JSON.parse(t[0]))}var r=new t.Prefs,s=r.getString("id");e.oncontextmenu=function(){return!1},s&&""!==s&&(t.rpc.register("rscmd_play_"+s,i),t.rpc.register("rscmd_pause_"+s,a),t.rpc.register("rscmd_stop_"+s,o),t.rpc.register("rsparam_set_"+s,n),t.rpc.call("","rsparam_get",null,s,["additionalParams"]))}(window,gadgets);var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-57092159-4"]),_gaq.push(["_trackPageview"]),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL3dpZGdldC5taW4uanMiXSwibmFtZXMiOlsiY29uZmlnIiwiYW5ndWxhciIsIm1vZHVsZSIsImNvbnN0YW50IiwidmFsdWUiLCJSaXNlVmlzaW9uIiwiVmlkZW9Gb2xkZXIiLCJkb2N1bWVudCIsImdhZGdldHMiLCJfcmVhZHkiLCJycGMiLCJjYWxsIiwiX3ByZWZzIiwiZ2V0U3RyaW5nIiwiX2JhY2tncm91bmRSZWFkeSIsIl9zbGlkZXIiLCJTbGlkZXIiLCJfYWRkaXRpb25hbFBhcmFtcyIsImluaXQiLCJwYXVzZSIsInBsYXkiLCJzZXRBZGRpdGlvbmFsUGFyYW1zIiwicGFyYW1zIiwiUHJlZnMiLCJ3aWR0aCIsImdldEludCIsImhlaWdodCIsImdldEVsZW1lbnRCeUlkIiwic3R5bGUiLCJfYmFja2dyb3VuZCIsIkNvbW1vbiIsIkJhY2tncm91bmQiLCJzbGlkZXJSZWFkeSIsInN0b3AiLCJkYXRhIiwiX3JlZnJlc2hUaW1lciIsInNldFRpbWVvdXQiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJiYWNrZ3JvdW5kIiwiaW1hZ2UiLCJ1cmwiLCJfc2VwYXJhdG9yIiwiRGF0ZSIsImdldFRpbWUiLCJfcmVmcmVzaER1cmF0aW9uIiwidXNlSW1hZ2UiLCJfaXNTdG9yYWdlRmlsZSIsIl9jYWxsYmFjayIsIl9zdG9yYWdlUmVzcG9uc2UiLCJlIiwiX3N0b3JhZ2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiQXJyYXkiLCJpc0FycmF5IiwiZGV0YWlsIiwiX2NvbmZpZ3VyZSIsInN0ciIsImJvZHkiLCJjb2xvciIsImNsYXNzTmFtZSIsInBvc2l0aW9uIiwic2NhbGUiLCJPYmplY3QiLCJrZXlzIiwiYmFja2dyb3VuZFN0b3JhZ2UiLCJsZW5ndGgiLCJhZGRFdmVudExpc3RlbmVyIiwic2V0QXR0cmlidXRlIiwiZm9sZGVyIiwiZmlsZU5hbWUiLCJjb21wYW55SWQiLCJnbyIsImNvbnNvbGUiLCJsb2ciLCJzcGxpdCIsImNiIiwiX2dldERhdGFWaWRlb0F0dHIiLCJhdHRyIiwic3Vic3RyIiwibGFzdEluZGV4T2YiLCJhcnIiLCJfZ2V0U3RvcmFnZVNvcnQiLCJvcmRlciIsInNvcnQiLCJkaXJlY3Rpb24iLCJfYWRkU2xpZGVzIiwibGlzdCIsInF1ZXJ5U2VsZWN0b3IiLCJmcmFnbWVudCIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJzbGlkZXMiLCJzbGlkZSIsIl9jdXJyZW50VXJscyIsImZvckVhY2giLCJjcmVhdGVFbGVtZW50IiwidmlkZW8iLCJ2aWRlb0F0dHIiLCJzcmMiLCJhdXRvcGxheSIsImFwcGVuZENoaWxkIiwicHVzaCIsIl9jb25maWd1cmVQbHVnaW4iLCJ1cmxzIiwidHBCYW5uZXIiLCJ1bCIsIl8kcmV2b2x1dGlvbiIsIiQiLCJyZXZvbHV0aW9uIiwiZGVsYXkiLCJzdGFydHdpZHRoIiwic3RhcnRoZWlnaHQiLCJuYXZpZ2F0aW9uVHlwZSIsInRvdWNoZW5hYmxlZCIsIm9uSG92ZXJTdG9wIiwic3dpcGVfdmVsb2NpdHkiLCJzd2lwZV9taW5fdG91Y2hlcyIsInN3aXBlX21heF90b3VjaGVzIiwia2V5Ym9hcmROYXZpZ2F0aW9uIiwic2hhZG93IiwiZnVsbFdpZHRoIiwiZnVsbFNjcmVlbiIsInN0b3BMb29wIiwic3RvcEFmdGVyTG9vcHMiLCJzdG9wQXRTbGlkZSIsInNodWZmbGUiLCJmb3JjZUZ1bGxXaWR0aCIsImZ1bGxTY3JlZW5BbGlnbkZvcmNlIiwiaGlkZVRpbWVyQmFyIiwiaGlkZVNsaWRlckF0TGltaXQiLCJoaWRlQ2FwdGlvbkF0TGltaXQiLCJoaWRlQWxsQ2FwdGlvbkF0TGlsbWl0IiwiX2NvbmZpZ3VyZVN0b3JhZ2UiLCJzdG9yYWdlU29ydCIsIl9pbml0aWFsQnVpbGQiLCJzdG9yYWdlIiwid2luZG93IiwiYWRkaXRpb25hbFBhcmFtcyIsIm5hbWVzIiwidmFsdWVzIiwiSlNPTiIsInBhcnNlIiwicHJlZnMiLCJpZCIsIm9uY29udGV4dG1lbnUiLCJyZWdpc3RlciIsIl9nYXEiLCJnYSIsInR5cGUiLCJhc3luYyIsImxvY2F0aW9uIiwicHJvdG9jb2wiLCJzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJwYXJlbnROb2RlIiwiaW5zZXJ0QmVmb3JlIl0sIm1hcHBpbmdzIjoiQUFFQSxHQUFzQixtQkFBWEEsUUFBd0IsQ0FDakMsR0FBSUEsVUFJbUIsb0JBQVpDLFdBQ1RBLFFBQVFDLE9BQU8sb0NBQ1pDLFNBQVMsaUJBQWtCLHVEQUMzQkEsU0FBUyxnQkFBaUIsU0FFN0JGLFFBQVFDLE9BQU8sb0RBQ1pFLE1BQU0sZ0JBQWlCLDBGQU05QixHQUFJQyxZQUFhQSxjQUNqQkEsWUFBV0MsZUFFWEQsV0FBV0MsWUFBYyxTQUFXQyxFQUFVQyxHQUM1QyxZQVVBLFNBQVNDLEtBQ1BELEVBQVFFLElBQUlDLEtBQUssR0FBSSxnQkFBaUIsS0FBTUMsRUFBT0MsVUFBVSxPQUMzRCxHQUFNLEdBQU0sR0FBTSxHQUFNLEdBRzVCLFFBQVNDLEtBRVBDLEVBQVUsR0FBSVYsWUFBV0MsWUFBWVUsT0FBT0MsR0FDNUNGLEVBQVFHLE9BTVYsUUFBU0MsTUFJVCxRQUFTQyxNQUlULFFBQVNDLEdBQW9CQyxHQUMzQlYsRUFBUyxHQUFJSixHQUFRZSxNQUNyQk4sRUFBb0JLLEVBQ3BCTCxFQUFrQk8sTUFBUVosRUFBT2EsT0FBTyxPQUN4Q1IsRUFBa0JTLE9BQVNkLEVBQU9hLE9BQU8sT0FFekNsQixFQUFTb0IsZUFBZSxhQUFhQyxNQUFNRixPQUFTZCxFQUFPYSxPQUFPLE9BQVMsS0FHM0VJLEVBQWMsR0FBSXhCLFlBQVd5QixPQUFPQyxXQUFXZCxHQUMvQ1ksRUFBWVgsS0FBS0osR0FHbkIsUUFBU2tCLEtBQ1B2QixJQUdGLFFBQVN3QixNQS9DVCxHQUFJckIsR0FBUyxLQUNYSyxLQUNBWSxFQUFjLEtBQ2RkLEVBQVUsSUFnRFosUUFDRUksTUFBU0EsRUFDVEMsS0FBUUEsRUFDUkMsb0JBQXVCQSxFQUN2QlcsWUFBZUEsRUFDZkMsS0FBUUEsSUFHVDFCLFNBQVVDLFFBRWIsSUFBSUgsWUFBYUEsY0FDakJBLFlBQVd5QixPQUFTekIsV0FBV3lC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ZSxNQUN0QnVILEVBQUtELEVBQU1oSSxVQUFVLEtBR3ZCMEgsR0FBT1EsY0FBZ0IsV0FDckIsT0FBTyxHQXVCTEQsR0FBYSxLQUFQQSxJQUNSdEksRUFBUUUsSUFBSXNJLFNBQVMsY0FBZ0JGLEVBQUkxSCxHQUN6Q1osRUFBUUUsSUFBSXNJLFNBQVMsZUFBaUJGLEVBQUkzSCxHQUMxQ1gsRUFBUUUsSUFBSXNJLFNBQVMsY0FBZ0JGLEVBQUk3RyxHQUV6Q3pCLEVBQVFFLElBQUlzSSxTQUFTLGVBQWlCRixFQUFJTixHQUMxQ2hJLEVBQVFFLElBQUlDLEtBQUssR0FBSSxjQUFlLEtBQU1tSSxHQUFLLHVCQUdoRFAsT0FBUS9ILFFBS1gsSUFBSXlJLE1BQU9BLFFBRVhBLE1BQUs3QyxNQUFNLGNBQWUsa0JBQzFCNkMsS0FBSzdDLE1BQU0sbUJBRVgsV0FDRSxHQUFJOEMsR0FBSzNJLFNBQVN1RixjQUFjLFNBQVdvRCxHQUFHQyxLQUFPLGtCQUFtQkQsRUFBR0UsT0FBUSxFQUNuRkYsRUFBR2pELEtBQU8sVUFBWTFGLFNBQVM4SSxTQUFTQyxTQUFXLGNBQWdCLGNBQWdCLDZCQUNuRixJQUFJQyxHQUFJaEosU0FBU2lKLHFCQUFxQixVQUFVLEVBQUlELEdBQUVFLFdBQVdDLGFBQWFSLEVBQUlLIiwiZmlsZSI6ImpzL3dpZGdldC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBnbG9iYWwgY29uZmlnOiB0cnVlICovXG4vKiBleHBvcnRlZCBjb25maWcgKi9cbmlmICh0eXBlb2YgY29uZmlnID09PSBcInVuZGVmaW5lZFwiKSB7XG4gIHZhciBjb25maWcgPSB7XG4gICAgLy8gdmFyaWFibGVzIGdvIGhlcmVcbiAgfTtcblxuICBpZiAodHlwZW9mIGFuZ3VsYXIgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24uY29tbW9uLmkxOG4uY29uZmlnXCIsIFtdKVxuICAgICAgLmNvbnN0YW50KFwiTE9DQUxFU19QUkVGSVhcIiwgXCJjb21wb25lbnRzL3J2LWNvbW1vbi1pMThuL2Rpc3QvbG9jYWxlcy90cmFuc2xhdGlvbl9cIilcbiAgICAgIC5jb25zdGFudChcIkxPQ0FMRVNfU1VGSVhcIiwgXCIuanNvblwiKTtcblxuICAgIGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLnN0b3JhZ2Utc2VsZWN0b3IuY29uZmlnXCIpXG4gICAgICAudmFsdWUoXCJTVE9SQUdFX01PREFMXCIsIFwiaHR0cDovL3N0b3JhZ2UucmlzZXZpc2lvbi5jb20vfnJ2aS9zdG9yYWdlLWNsaWVudC1ydmEtdGVzdC9zdG9yYWdlLW1vZGFsLmh0bWwjL2ZpbGVzL1wiKTtcbiAgfVxufVxuXG4vKiBnbG9iYWwgZ2FkZ2V0cyAqL1xuXG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5SaXNlVmlzaW9uLlZpZGVvRm9sZGVyID0ge307XG5cblJpc2VWaXNpb24uVmlkZW9Gb2xkZXIgPSAoZnVuY3Rpb24gKGRvY3VtZW50LCBnYWRnZXRzKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBfcHJlZnMgPSBudWxsLFxuICAgIF9hZGRpdGlvbmFsUGFyYW1zID0ge30sXG4gICAgX2JhY2tncm91bmQgPSBudWxsLFxuICAgIF9zbGlkZXIgPSBudWxsO1xuXG4gIC8qXG4gICAqICBQcml2YXRlIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIF9yZWFkeSgpIHtcbiAgICBnYWRnZXRzLnJwYy5jYWxsKFwiXCIsIFwicnNldmVudF9yZWFkeVwiLCBudWxsLCBfcHJlZnMuZ2V0U3RyaW5nKFwiaWRcIiksXG4gICAgICB0cnVlLCB0cnVlLCB0cnVlLCB0cnVlLCB0cnVlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9iYWNrZ3JvdW5kUmVhZHkoKSB7XG4gICAgLy8gY3JlYXRlIGFuZCBpbml0aWFsaXplIHRoZSBQbGF5ZXIgaW5zdGFuY2VcbiAgICBfc2xpZGVyID0gbmV3IFJpc2VWaXNpb24uVmlkZW9Gb2xkZXIuU2xpZGVyKF9hZGRpdGlvbmFsUGFyYW1zKTtcbiAgICBfc2xpZGVyLmluaXQoKTtcbiAgfVxuXG4gIC8qXG4gICAqICBQdWJsaWMgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gcGF1c2UoKSB7XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIHBsYXkoKSB7XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIHNldEFkZGl0aW9uYWxQYXJhbXMocGFyYW1zKSB7XG4gICAgX3ByZWZzID0gbmV3IGdhZGdldHMuUHJlZnMoKTtcbiAgICBfYWRkaXRpb25hbFBhcmFtcyA9IHBhcmFtcztcbiAgICBfYWRkaXRpb25hbFBhcmFtcy53aWR0aCA9IF9wcmVmcy5nZXRJbnQoXCJyc1dcIik7XG4gICAgX2FkZGl0aW9uYWxQYXJhbXMuaGVpZ2h0ID0gX3ByZWZzLmdldEludChcInJzSFwiKTtcblxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udGFpbmVyXCIpLnN0eWxlLmhlaWdodCA9IF9wcmVmcy5nZXRJbnQoXCJyc0hcIikgKyBcInB4XCI7XG5cbiAgICAvLyBjcmVhdGUgYW5kIGluaXRpYWxpemUgdGhlIEJhY2tncm91bmQgaW5zdGFuY2VcbiAgICBfYmFja2dyb3VuZCA9IG5ldyBSaXNlVmlzaW9uLkNvbW1vbi5CYWNrZ3JvdW5kKF9hZGRpdGlvbmFsUGFyYW1zKTtcbiAgICBfYmFja2dyb3VuZC5pbml0KF9iYWNrZ3JvdW5kUmVhZHkpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2xpZGVyUmVhZHkoKSB7XG4gICAgX3JlYWR5KCk7XG4gIH1cblxuICBmdW5jdGlvbiBzdG9wKCkge1xuXG4gIH1cblxuICByZXR1cm4ge1xuICAgIFwicGF1c2VcIjogcGF1c2UsXG4gICAgXCJwbGF5XCI6IHBsYXksXG4gICAgXCJzZXRBZGRpdGlvbmFsUGFyYW1zXCI6IHNldEFkZGl0aW9uYWxQYXJhbXMsXG4gICAgXCJzbGlkZXJSZWFkeVwiOiBzbGlkZXJSZWFkeSxcbiAgICBcInN0b3BcIjogc3RvcFxuICB9O1xuXG59KShkb2N1bWVudCwgZ2FkZ2V0cyk7XG5cbnZhciBSaXNlVmlzaW9uID0gUmlzZVZpc2lvbiB8fCB7fTtcblJpc2VWaXNpb24uQ29tbW9uID0gUmlzZVZpc2lvbi5Db21tb24gfHwge307XG5cblJpc2VWaXNpb24uQ29tbW9uLkJhY2tncm91bmQgPSBmdW5jdGlvbiAoZGF0YSkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgX2NhbGxiYWNrID0gbnVsbCxcbiAgICBfcmVhZHkgPSBmYWxzZSxcbiAgICBfYmFja2dyb3VuZCA9IG51bGwsXG4gICAgX3N0b3JhZ2UgPSBudWxsLFxuICAgIF9yZWZyZXNoRHVyYXRpb24gPSA5MDAwMDAsIC8vIDE1IG1pbnV0ZXNcbiAgICBfaXNTdG9yYWdlRmlsZSA9IGZhbHNlLFxuICAgIF9zZXBhcmF0b3IgPSBcIlwiO1xuXG4gIC8qXG4gICAqIFByaXZhdGUgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gX3JlZnJlc2hUaW1lcigpIHtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uIGJhY2tncm91bmRSZWZyZXNoKCkge1xuICAgICAgX2JhY2tncm91bmQuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXCJ1cmwoXCIgKyBkYXRhLmJhY2tncm91bmQuaW1hZ2UudXJsICsgX3NlcGFyYXRvciArIFwiY2I9XCIgKyBuZXcgRGF0ZSgpLmdldFRpbWUoKSArIFwiKVwiO1xuICAgICAgX3JlZnJlc2hUaW1lcigpO1xuICAgIH0sIF9yZWZyZXNoRHVyYXRpb24pO1xuICB9XG5cbiAgZnVuY3Rpb24gX2JhY2tncm91bmRSZWFkeSgpIHtcbiAgICBfcmVhZHkgPSB0cnVlO1xuXG4gICAgaWYgKGRhdGEuYmFja2dyb3VuZC51c2VJbWFnZSAmJiAhX2lzU3RvcmFnZUZpbGUpIHtcbiAgICAgIC8vIHN0YXJ0IHRoZSByZWZyZXNoIHBvbGwgZm9yIG5vbi1zdG9yYWdlIGJhY2tncm91bmQgaW1hZ2VcbiAgICAgIF9yZWZyZXNoVGltZXIoKTtcbiAgICB9XG5cbiAgICBpZiAoX2NhbGxiYWNrICYmIHR5cGVvZiBfY2FsbGJhY2sgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgX2NhbGxiYWNrKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX3N0b3JhZ2VSZXNwb25zZShlKSB7XG4gICAgX3N0b3JhZ2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1yZXNwb25zZVwiLCBfc3RvcmFnZVJlc3BvbnNlKTtcblxuICAgIGlmIChBcnJheS5pc0FycmF5KGUuZGV0YWlsKSkge1xuICAgICAgX2JhY2tncm91bmQuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXCJ1cmwoXCIgKyBlLmRldGFpbFswXSArIFwiKVwiO1xuICAgIH0gZWxzZSB7XG4gICAgICBfYmFja2dyb3VuZC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBcInVybChcIiArIGUuZGV0YWlsICsgXCIpXCI7XG4gICAgfVxuICAgIF9iYWNrZ3JvdW5kUmVhZHkoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9jb25maWd1cmUoKSB7XG4gICAgdmFyIHN0cjtcblxuICAgIF9iYWNrZ3JvdW5kID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJiYWNrZ3JvdW5kXCIpO1xuICAgIF9zdG9yYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJiYWNrZ3JvdW5kU3RvcmFnZVwiKTtcblxuICAgIC8vIHNldCB0aGUgZG9jdW1lbnQgYmFja2dyb3VuZFxuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuYmFja2dyb3VuZCA9IGRhdGEuYmFja2dyb3VuZC5jb2xvcjtcblxuICAgIGlmIChfYmFja2dyb3VuZCkge1xuICAgICAgaWYgKGRhdGEuYmFja2dyb3VuZC51c2VJbWFnZSkge1xuICAgICAgICBfYmFja2dyb3VuZC5jbGFzc05hbWUgPSBkYXRhLmJhY2tncm91bmQuaW1hZ2UucG9zaXRpb247XG4gICAgICAgIF9iYWNrZ3JvdW5kLmNsYXNzTmFtZSA9IGRhdGEuYmFja2dyb3VuZC5pbWFnZS5zY2FsZSA/IF9iYWNrZ3JvdW5kLmNsYXNzTmFtZSArIFwiIHNjYWxlLXRvLWZpdFwiXG4gICAgICAgICAgOiBfYmFja2dyb3VuZC5jbGFzc05hbWU7XG5cbiAgICAgICAgX2lzU3RvcmFnZUZpbGUgPSAoT2JqZWN0LmtleXMoZGF0YS5iYWNrZ3JvdW5kU3RvcmFnZSkubGVuZ3RoICE9PSAwKTtcblxuICAgICAgICBpZiAoIV9pc1N0b3JhZ2VGaWxlKSB7XG4gICAgICAgICAgc3RyID0gZGF0YS5iYWNrZ3JvdW5kLmltYWdlLnVybC5zcGxpdChcIj9cIik7XG5cbiAgICAgICAgICAvLyBzdG9yZSB0aGlzIGZvciB0aGUgcmVmcmVzaCB0aW1lclxuICAgICAgICAgIF9zZXBhcmF0b3IgPSAoc3RyLmxlbmd0aCA9PT0gMSkgPyBcIj9cIiA6IFwiJlwiO1xuXG4gICAgICAgICAgX2JhY2tncm91bmQuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXCJ1cmwoXCIgKyBkYXRhLmJhY2tncm91bmQuaW1hZ2UudXJsICsgXCIpXCI7XG4gICAgICAgICAgX2JhY2tncm91bmRSZWFkeSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChfc3RvcmFnZSkge1xuICAgICAgICAgICAgLy8gUmlzZSBTdG9yYWdlXG4gICAgICAgICAgICBfc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1zdG9yYWdlLXJlc3BvbnNlXCIsIF9zdG9yYWdlUmVzcG9uc2UpO1xuXG4gICAgICAgICAgICBfc3RvcmFnZS5zZXRBdHRyaWJ1dGUoXCJmb2xkZXJcIiwgZGF0YS5iYWNrZ3JvdW5kU3RvcmFnZS5mb2xkZXIpO1xuICAgICAgICAgICAgX3N0b3JhZ2Uuc2V0QXR0cmlidXRlKFwiZmlsZU5hbWVcIiwgZGF0YS5iYWNrZ3JvdW5kU3RvcmFnZS5maWxlTmFtZSk7XG4gICAgICAgICAgICBfc3RvcmFnZS5zZXRBdHRyaWJ1dGUoXCJjb21wYW55SWRcIiwgZGF0YS5iYWNrZ3JvdW5kU3RvcmFnZS5jb21wYW55SWQpO1xuICAgICAgICAgICAgX3N0b3JhZ2UuZ28oKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJNaXNzaW5nIGVsZW1lbnQgd2l0aCBpZCB2YWx1ZSBvZiAnYmFja2dyb3VuZFN0b3JhZ2UnXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX2JhY2tncm91bmRSZWFkeSgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZyhcIk1pc3NpbmcgZWxlbWVudCB3aXRoIGlkIHZhbHVlIG9mICdiYWNrZ3JvdW5kJ1wiKTtcbiAgICB9XG4gIH1cblxuICAvKlxuICAgKiAgUHVibGljIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIGluaXQoY2IpIHtcbiAgICBpZiAoIV9yZWFkeSkge1xuICAgICAgaWYgKGNiKSB7XG4gICAgICAgIF9jYWxsYmFjayA9IGNiO1xuICAgICAgfVxuXG4gICAgICBfY29uZmlndXJlKCk7XG5cbiAgICB9IGVsc2UgaWYgKGNiICYmIHR5cGVvZiBjYiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICBjYigpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgXCJpbml0XCI6IGluaXRcbiAgfTtcbn07XG5cbnZhciBSaXNlVmlzaW9uID0gUmlzZVZpc2lvbiB8fCB7fTtcblJpc2VWaXNpb24uVmlkZW9Gb2xkZXIgPSBSaXNlVmlzaW9uLlZpZGVvRm9sZGVyIHx8IHt9O1xuXG5SaXNlVmlzaW9uLlZpZGVvRm9sZGVyLlNsaWRlciA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIF9zdG9yYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2aWRlb0ZvbGRlclN0b3JhZ2VcIiksXG4gICAgX2N1cnJlbnRVcmxzID0gbnVsbCxcbiAgICBfaW5pdGlhbEJ1aWxkID0gdHJ1ZSxcbiAgICBfJHJldm9sdXRpb24gPSBudWxsO1xuXG4gIC8qXG4gICAqICBQcml2YXRlIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIF9nZXREYXRhVmlkZW9BdHRyKHVybCkge1xuICAgIHZhciBhdHRyID0gbnVsbCxcbiAgICAgIHN0ciA9IHVybC5zdWJzdHIodXJsLmxhc3RJbmRleE9mKFwiLlwiKSArIDEpLFxuICAgICAgYXJyID0gc3RyLnNwbGl0KFwiP1wiKTtcblxuICAgIGlmICh0eXBlb2YgYXJyWzBdICE9PSBcInVuZGVmaW5lZFwiICYmIGFyclswXSAhPT0gXCJcIikge1xuICAgICAgc3dpdGNoKGFyclswXSkge1xuICAgICAgICBjYXNlIFwibXA0XCI6XG4gICAgICAgICAgYXR0ciA9IFwiZGF0YS12aWRlb21wNFwiO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwid2VibVwiOlxuICAgICAgICAgIGF0dHIgPSBcImRhdGEtdmlkZW93ZWJtXCI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJvZ2dcIjpcbiAgICAgICAgY2FzZSBcIm9ndlwiOlxuICAgICAgICAgIGF0dHIgPSBcImRhdGEtdmlkZW9vZ3ZcIjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBhdHRyID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gYXR0cjtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9nZXRTdG9yYWdlU29ydChvcmRlcikge1xuICAgIHZhciB2YWx1ZSA9IHt9O1xuXG4gICAgdmFsdWUuc29ydCA9IFwiXCI7XG4gICAgdmFsdWUuZGlyZWN0aW9uID0gXCJcIjtcblxuICAgIHN3aXRjaCAob3JkZXIpIHtcbiAgICAgIGNhc2UgXCJhbHBoYS1hc2NcIjpcbiAgICAgICAgdmFsdWUuc29ydCA9IFwibmFtZVwiO1xuICAgICAgICB2YWx1ZS5kaXJlY3Rpb24gPSBcImFzY1wiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJhbHBoYS1kZXNjXCI6XG4gICAgICAgIHZhbHVlLnNvcnQgPSBcIm5hbWVcIjtcbiAgICAgICAgdmFsdWUuZGlyZWN0aW9uID0gXCJkZXNjXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImRhdGUtYXNjXCI6XG4gICAgICAgIHZhbHVlLnNvcnQgPSBcImRhdGVcIjtcbiAgICAgICAgdmFsdWUuZGlyZWN0aW9uID0gXCJhc2NcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZGF0ZS1kZXNjXCI6XG4gICAgICAgIHZhbHVlLnNvcnQgPSBcImRhdGVcIjtcbiAgICAgICAgdmFsdWUuZGlyZWN0aW9uID0gXCJkZXNjXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInJhbmRvbVwiOlxuICAgICAgICB2YWx1ZS5zb3J0ID0gXCJyYW5kb21cIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB2YWx1ZS5zb3J0ID0gXCJuYW1lXCI7XG4gICAgICAgIHZhbHVlLmRpcmVjdGlvbiA9IFwiYXNjXCI7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgZnVuY3Rpb24gX2FkZFNsaWRlcygpIHtcbiAgICB2YXIgbGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudHAtYmFubmVyIHVsXCIpLFxuICAgICAgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksXG4gICAgICBzbGlkZXMgPSBbXSxcbiAgICAgIHNsaWRlID0gbnVsbDtcblxuICAgIF9jdXJyZW50VXJscy5mb3JFYWNoKGZ1bmN0aW9uKHVybCkge1xuICAgICAgdmFyIGltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKSxcbiAgICAgICAgdmlkZW8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFxuICAgICAgICB2aWRlb0F0dHIgPSBfZ2V0RGF0YVZpZGVvQXR0cih1cmwpO1xuXG4gICAgICBzbGlkZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcblxuICAgICAgLy8gU2xpZGUgVHJhbnNpdGlvblxuICAgICAgc2xpZGUuc2V0QXR0cmlidXRlKFwiZGF0YS10cmFuc2l0aW9uXCIsIFwic2xpZGVob3Jpem9udGFsXCIpO1xuICAgICAgc2xpZGUuc2V0QXR0cmlidXRlKFwiZGF0YS1tYXN0ZXJzcGVlZFwiLCAxMDAwKTtcbiAgICAgIHNsaWRlLnNldEF0dHJpYnV0ZShcImRhdGEtc2xvdGFtb3VudFwiLCAxKTtcblxuICAgICAgLy8gVHJhbnNpdGlvbiBpbWFnZSwgdXNpbmcgMSBwaXhlbCB0cmFuc3BhcmVudCB0byBwcmV2ZW50IGVycm9yXG4gICAgICBpbWFnZS5zcmMgPSBcImh0dHBzOi8vczMuYW1hem9uYXdzLmNvbS9SaXNlLUltYWdlcy9VSS9GRkZGRkYtMC4wLnBuZ1wiO1xuICAgICAgaW1hZ2Uuc2V0QXR0cmlidXRlKFwiZGF0YS1iZ2ZpdFwiLCBcImNvdmVyXCIpO1xuICAgICAgaW1hZ2Uuc2V0QXR0cmlidXRlKFwiZGF0YS1iZ3JlcGVhdFwiLCBcIm5vLXJlcGVhdFwiKTtcbiAgICAgIGltYWdlLnNldEF0dHJpYnV0ZShcImRhdGEtYmdwb3NpdGlvblwiLCBcImNlbnRlciBjZW50ZXJcIik7XG5cbiAgICAgIC8vIFZpZGVvXG4gICAgICB2aWRlby5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcInRwLWNhcHRpb24gdHAtZmFkZSBmYWRlb3V0IGZ1bGxzY3JlZW52aWRlbyB0cC12aWRlb2xheWVyXCIpO1xuICAgICAgdmlkZW8uc2V0QXR0cmlidXRlKFwiZGF0YS14XCIsIDApO1xuICAgICAgdmlkZW8uc2V0QXR0cmlidXRlKFwiZGF0YS15XCIsIDApO1xuICAgICAgdmlkZW8uc2V0QXR0cmlidXRlKFwiZGF0YS1zcGVlZFwiLCAxMDAwKTtcbiAgICAgIHZpZGVvLnNldEF0dHJpYnV0ZShcImRhdGEtc3RhcnRcIiwgMTEwMCk7XG4gICAgICB2aWRlby5zZXRBdHRyaWJ1dGUoXCJkYXRhLWVhc2luZ1wiLCBcIlBvd2VyNC5lYXNlT3V0XCIpO1xuICAgICAgdmlkZW8uc2V0QXR0cmlidXRlKFwiZGF0YS1lbGVtZW50ZGVsYXlcIiwgMC4wMSk7XG4gICAgICB2aWRlby5zZXRBdHRyaWJ1dGUoXCJkYXRhLWVuZGVsZW1lbnRkZWxheVwiLCAwLjEpO1xuICAgICAgdmlkZW8uc2V0QXR0cmlidXRlKFwiZGF0YS1lbmRzcGVlZFwiLCAxNTAwKTtcbiAgICAgIHZpZGVvLnNldEF0dHJpYnV0ZShcImRhdGEtZW5kZWFzaW5nXCIsIFwiUG93ZXI0LmVhc2VJblwiKTtcbiAgICAgIHZpZGVvLnNldEF0dHJpYnV0ZShcImRhdGEtYXV0b3BsYXlcIiwgXCJmYWxzZVwiKTtcbiAgICAgIHZpZGVvLnNldEF0dHJpYnV0ZShcImRhdGEtYXV0b3BsYXlvbmx5Zmlyc3R0aW1lXCIsIFwiZmFsc2VcIik7XG4gICAgICB2aWRlby5zZXRBdHRyaWJ1dGUoXCJkYXRhLW5leHRzbGlkZWF0ZW5kXCIsIFwidHJ1ZVwiKTtcbiAgICAgIHZpZGVvLnNldEF0dHJpYnV0ZShcImRhdGEtdmlkZW93aWR0aFwiLCBcIjEwMCVcIik7XG4gICAgICB2aWRlby5zZXRBdHRyaWJ1dGUoXCJkYXRhLXZpZGVvaGVpZ2h0XCIsIFwiMTAwJVwiKTtcbiAgICAgIHZpZGVvLnNldEF0dHJpYnV0ZShcImRhdGEteXRpZFwiLCBcIlwiKTtcbiAgICAgIHZpZGVvLnNldEF0dHJpYnV0ZShcImRhdGEtdmltZW9pZFwiLCBcIlwiKTtcbiAgICAgIHZpZGVvLnNldEF0dHJpYnV0ZShcImRhdGEtdmlkZW9hdHRyaWJ1dGVzXCIsIFwiXCIpO1xuICAgICAgdmlkZW8uc2V0QXR0cmlidXRlKFwiZGF0YS12aWRlb3ByZWxvYWRcIiwgXCJtZXRhXCIpO1xuICAgICAgdmlkZW8uc2V0QXR0cmlidXRlKFwiZGF0YS12aWRlb2xvb3BcIiwgXCJub25lXCIpO1xuICAgICAgdmlkZW8uc2V0QXR0cmlidXRlKFwiZGF0YS1mb3JjZWNvdmVyXCIsIDEpO1xuICAgICAgdmlkZW8uc2V0QXR0cmlidXRlKFwiZGF0YS1mb3JjZXJld2luZFwiLCBcIm9uXCIpO1xuICAgICAgdmlkZW8uc2V0QXR0cmlidXRlKFwiZGF0YS1hc3BlY3RyYXRpb1wiLCBcIjE2OjlcIik7XG5cbiAgICAgIC8vIENvbmZpZ3VyZSB0aGUgY29ycmVjdCBkYXRhLXZpZGVvIGJhc2VkIG9uIGZpbGUgdHlwZVxuXG4gICAgICBpZiAodmlkZW9BdHRyID09PSBcImRhdGEtdmlkZW9vZ3ZcIikge1xuICAgICAgICAvLyBXaGVuIG9ndiwgUmV2b2x1dGlvbiBzZWVtcyB0byBhbHNvIHJlcXVpcmUgZGF0YS12aWRlb3dlYm0gZXZlbiB0aG91Z2ggaXRzIGFuIGVtcHR5IHZhbHVlXG4gICAgICAgIHZpZGVvLnNldEF0dHJpYnV0ZShfZ2V0RGF0YVZpZGVvQXR0cih1cmwpLCB1cmwpO1xuICAgICAgICB2aWRlby5zZXRBdHRyaWJ1dGUoXCJkYXRhLXZpZGVvd2VibVwiLCBcIlwiKTtcbiAgICAgIH0gZWxzZSBpZiAodmlkZW9BdHRyID09PSBcImRhdGEtdmlkZW93ZWJtXCIpIHtcbiAgICAgICAgdmlkZW8uc2V0QXR0cmlidXRlKF9nZXREYXRhVmlkZW9BdHRyKHVybCksIHVybCk7XG4gICAgICAgIC8vIEJ1ZyB3aXRoIFJldm9sdXRpb24gc2xpZGVyLCBzZWVtcyB0byByZXF1aXJlIGRhdGEtdmlkZW9vZ3Ygd2l0aCB0aGUgdXJsIHZhbHVlIHRvIHdvcmtcbiAgICAgICAgdmlkZW8uc2V0QXR0cmlidXRlKFwiZGF0YS12aWRlb29ndlwiLCB1cmwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmlkZW8uc2V0QXR0cmlidXRlKF9nZXREYXRhVmlkZW9BdHRyKHVybCksIHVybCk7XG4gICAgICB9XG5cbiAgICAgIC8qXG4gICAgICBUbyBiZSBjb25zaXN0ZW50IHdpdGggVmlkZW8gV2lkZ2V0LCBiYXNpbmcgdXNlIG9mIGNvbnRyb2xzIG9uIHVzZXIgc2VsZWN0aW9uIG9mIFwiQXV0b3BsYXlcIi5cbiAgICAgIEhvd2V2ZXIsIFJldm9sdXRpb24gcGx1Z2luIGluaGVyZW50bHkgcHJvdmlkZXMgYWRkaXRpb25hbCBwbGF5L3BhdXNlIGFiaWxpdHkgdmlhIHRvdWNoIG9yIGNsaWNrIG9mIHRoZSB2aWRlby5cbiAgICAgICAqL1xuICAgICAgaWYgKHBhcmFtcy52aWRlby5hdXRvcGxheSkge1xuICAgICAgICB2aWRlby5zZXRBdHRyaWJ1dGUoXCJkYXRhLXZpZGVvY29udHJvbHNcIiwgXCJjb250cm9sc1wiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZpZGVvLnNldEF0dHJpYnV0ZShcImRhdGEtdmlkZW9jb250cm9sc1wiLCBcIm5vbmVcIik7XG4gICAgICB9XG5cbiAgICAgIC8vIFRPRE86IFJldm9sdXRpb24gb25seSBvZmZlcnMgYWJpbGl0eSB0byBzZXQgdm9sdW1lIHRvIG11dGUsIGNhbid0IHNldCBzcGVjaWZpYyB2b2x1bWVcbiAgICAgIC8vdmlkZW8uc2V0QXR0cmlidXRlKFwiZGF0YS12b2x1bWVcIiwgXCJtdXRlXCIpO1xuXG4gICAgICAvLyBTY2FsZSB0byBGaXRcbiAgICAgIC8vIFRPRE86IEZpZ3VyZSBvdXQgaWYgdGhpcyBzaG91bGQgYmUgcmVtb3ZlZCBhcyBhIHNldHRpbmcgb3Igbm90XG5cbiAgICAgIHNsaWRlLmFwcGVuZENoaWxkKGltYWdlKTtcbiAgICAgIHNsaWRlLmFwcGVuZENoaWxkKHZpZGVvKTtcbiAgICAgIHNsaWRlcy5wdXNoKHNsaWRlKTtcbiAgICB9KTtcblxuICAgIHNsaWRlcy5mb3JFYWNoKGZ1bmN0aW9uKHNsaWRlKSB7XG4gICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChzbGlkZSk7XG4gICAgfSk7XG5cbiAgICBsaXN0LmFwcGVuZENoaWxkKGZyYWdtZW50KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9jb25maWd1cmVQbHVnaW4odXJscykge1xuICAgIHZhciB0cEJhbm5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudHAtYmFubmVyXCIpLFxuICAgICAgdWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidWxcIik7XG5cbiAgICB0cEJhbm5lci5hcHBlbmRDaGlsZCh1bCk7XG5cbiAgICBfY3VycmVudFVybHMgPSB1cmxzO1xuICAgIF9hZGRTbGlkZXMoKTtcblxuICAgIF8kcmV2b2x1dGlvbiA9ICQoXCIudHAtYmFubmVyXCIpLnJldm9sdXRpb24oe1xuICAgICAgZGVsYXk6OTAwMCxcbiAgICAgIHN0YXJ0d2lkdGg6cGFyYW1zLndpZHRoLFxuICAgICAgc3RhcnRoZWlnaHQ6cGFyYW1zLmhlaWdodCxcbiAgICAgIG5hdmlnYXRpb25UeXBlOlwibm9uZVwiLFxuICAgICAgdG91Y2hlbmFibGVkOlwib25cIixcbiAgICAgIG9uSG92ZXJTdG9wOlwib25cIixcblxuICAgICAgc3dpcGVfdmVsb2NpdHk6IDAuNyxcbiAgICAgIHN3aXBlX21pbl90b3VjaGVzOiAxLFxuICAgICAgc3dpcGVfbWF4X3RvdWNoZXM6IDEsXG5cbiAgICAgIGtleWJvYXJkTmF2aWdhdGlvbjpcIm9mZlwiLFxuXG4gICAgICBzaGFkb3c6MCxcbiAgICAgIGZ1bGxXaWR0aDpcIm9mZlwiLFxuICAgICAgZnVsbFNjcmVlbjpcIm9mZlwiLFxuXG4gICAgICBzdG9wTG9vcDpcIm9mZlwiLFxuICAgICAgc3RvcEFmdGVyTG9vcHM6LTEsXG4gICAgICBzdG9wQXRTbGlkZTotMSxcblxuICAgICAgc2h1ZmZsZTpcIm9mZlwiLFxuXG4gICAgICBmb3JjZUZ1bGxXaWR0aDpcIm9mZlwiLFxuICAgICAgZnVsbFNjcmVlbkFsaWduRm9yY2U6XCJvZmZcIixcblxuICAgICAgaGlkZVRpbWVyQmFyOiBcIm9uXCIsXG5cbiAgICAgIGhpZGVTbGlkZXJBdExpbWl0OjAsXG4gICAgICBoaWRlQ2FwdGlvbkF0TGltaXQ6MCxcbiAgICAgIGhpZGVBbGxDYXB0aW9uQXRMaWxtaXQ6MFxuICAgIH0pO1xuXG4gICAgUmlzZVZpc2lvbi5WaWRlb0ZvbGRlci5zbGlkZXJSZWFkeSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gX2NvbmZpZ3VyZVN0b3JhZ2UoKSB7XG4gICAgdmFyIHN0b3JhZ2VTb3J0ID0gX2dldFN0b3JhZ2VTb3J0KHBhcmFtcy5vcmRlcik7XG5cbiAgICBfc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1zdG9yYWdlLXJlc3BvbnNlXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmIChfaW5pdGlhbEJ1aWxkKSB7XG4gICAgICAgIF9jb25maWd1cmVQbHVnaW4oZS5kZXRhaWwpO1xuICAgICAgfSAvKmVsc2Uge1xuICAgICAgICAvLyBUT0RPOiBoYW5kbGUgYSByZWZyZXNoXG4gICAgICB9Ki9cbiAgICB9KTtcblxuICAgIF9zdG9yYWdlLnNldEF0dHJpYnV0ZShcImNvbXBhbnlJZFwiLCBwYXJhbXMuc3RvcmFnZS5jb21wYW55SWQpO1xuICAgIF9zdG9yYWdlLnNldEF0dHJpYnV0ZShcImZvbGRlclwiLCBwYXJhbXMuc3RvcmFnZS5mb2xkZXIpO1xuICAgIF9zdG9yYWdlLnNldEF0dHJpYnV0ZShcInNvcnRcIiwgc3RvcmFnZVNvcnQuc29ydCk7XG4gICAgX3N0b3JhZ2Uuc2V0QXR0cmlidXRlKFwic29ydERpcmVjdGlvblwiLCBzdG9yYWdlU29ydC5kaXJlY3Rpb24pO1xuICAgIF9zdG9yYWdlLmdvKCk7XG4gIH1cblxuICAvKlxuICAgKiAgUHVibGljIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgaWYgKF9pbml0aWFsQnVpbGQpIHtcbiAgICAgIF9jb25maWd1cmVTdG9yYWdlKCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBcImluaXRcIjogaW5pdFxuICB9O1xufTtcblxuLyogZ2xvYmFsIGdhZGdldHMsIFJpc2VWaXNpb24gKi9cblxuKGZ1bmN0aW9uICh3aW5kb3csIGdhZGdldHMpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIHByZWZzID0gbmV3IGdhZGdldHMuUHJlZnMoKSxcbiAgICBpZCA9IHByZWZzLmdldFN0cmluZyhcImlkXCIpO1xuXG4gIC8vIERpc2FibGUgY29udGV4dCBtZW51IChyaWdodCBjbGljayBtZW51KVxuICB3aW5kb3cub25jb250ZXh0bWVudSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgZnVuY3Rpb24gcGxheSgpIHtcblxuICB9XG5cbiAgZnVuY3Rpb24gcGF1c2UoKSB7XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIHN0b3AoKSB7XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZGl0aW9uYWxQYXJhbXMobmFtZXMsIHZhbHVlcykge1xuICAgIGlmIChBcnJheS5pc0FycmF5KG5hbWVzKSAmJiBuYW1lcy5sZW5ndGggPiAwICYmIG5hbWVzWzBdID09PSBcImFkZGl0aW9uYWxQYXJhbXNcIikge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWVzKSAmJiB2YWx1ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBSaXNlVmlzaW9uLlZpZGVvRm9sZGVyLnNldEFkZGl0aW9uYWxQYXJhbXMoSlNPTi5wYXJzZSh2YWx1ZXNbMF0pKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoaWQgJiYgaWQgIT09IFwiXCIpIHtcbiAgICBnYWRnZXRzLnJwYy5yZWdpc3RlcihcInJzY21kX3BsYXlfXCIgKyBpZCwgcGxheSk7XG4gICAgZ2FkZ2V0cy5ycGMucmVnaXN0ZXIoXCJyc2NtZF9wYXVzZV9cIiArIGlkLCBwYXVzZSk7XG4gICAgZ2FkZ2V0cy5ycGMucmVnaXN0ZXIoXCJyc2NtZF9zdG9wX1wiICsgaWQsIHN0b3ApO1xuXG4gICAgZ2FkZ2V0cy5ycGMucmVnaXN0ZXIoXCJyc3BhcmFtX3NldF9cIiArIGlkLCBhZGRpdGlvbmFsUGFyYW1zKTtcbiAgICBnYWRnZXRzLnJwYy5jYWxsKFwiXCIsIFwicnNwYXJhbV9nZXRcIiwgbnVsbCwgaWQsIFtcImFkZGl0aW9uYWxQYXJhbXNcIl0pO1xuICB9XG5cbn0pKHdpbmRvdywgZ2FkZ2V0cyk7XG5cblxuXG4vKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG52YXIgX2dhcSA9IF9nYXEgfHwgW107XG5cbl9nYXEucHVzaChbJ19zZXRBY2NvdW50JywgJ1VBLTU3MDkyMTU5LTQnXSk7XG5fZ2FxLnB1c2goWydfdHJhY2tQYWdldmlldyddKTtcblxuKGZ1bmN0aW9uKCkge1xuICB2YXIgZ2EgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTsgZ2EudHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnOyBnYS5hc3luYyA9IHRydWU7XG4gIGdhLnNyYyA9ICgnaHR0cHM6JyA9PSBkb2N1bWVudC5sb2NhdGlvbi5wcm90b2NvbCA/ICdodHRwczovL3NzbCcgOiAnaHR0cDovL3d3dycpICsgJy5nb29nbGUtYW5hbHl0aWNzLmNvbS9nYS5qcyc7XG4gIHZhciBzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpWzBdOyBzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGdhLCBzKTtcbn0pKCk7XG4vKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9