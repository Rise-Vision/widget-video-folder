function init(e,n){window.oncontextmenu=function(){return!1},width=e.width,height=e.height,volume=e.video.volume,autoPlay=e.video.autoplay,scaleToFit=e.video.scaleToFit,pauseDuration=e.pause,files=n,player=new PlayerJW,player.loadVideo()}function doneEvent(){parent.RiseVision.VideoFolder.playerEnded()}function readyEvent(){parent.RiseVision.VideoFolder.playerReady()}function errorEvent(e){parent.RiseVision.VideoFolder.playerError(e)}function play(){player.play()}function pause(){player.pause()}function stop(){player.stop()}function remove(){player.remove()}function PlayerJW(){function e(e){var n,a=[".mp4",".webm",".ogg",".ogv"],t=e.toLowerCase(),o=null;for(n=0;n<=a.length;n+=1)if(-1!==t.indexOf(a[n])){o=a[n].substr(a[n].lastIndexOf(".")+1);break}return"ogv"===o&&(o="ogg"),o}function n(){for(var n=[],a=0;a<files.length;a+=1)n.push({sources:[{file:files[a],type:e(files[a])}]});return n}function a(){doneEvent()}function t(){isLoading?(isLoading=!1,jwplayer().pause(),jwplayer().setMute(!1),jwplayer().setVolume(volume),readyEvent()):(pauseHandlerOn||(pauseHandlerOn=!0,jwplayer().onPause(function(){o()})),clearTimeout(pauseTimer))}function o(){viewerPaused||isLoading||(clearTimeout(pauseTimer),pauseTimer=setTimeout(function(){jwplayer().play(),jwplayer().setControls(!1),jwplayer().setControls(!0)},1e3*pauseDuration))}function i(e){e&&errorEvent({type:"video",index:jwplayer().getPlaylistIndex(),message:e.message})}function r(e){e&&errorEvent({type:"setup",index:0,message:e.message})}this.loadVideo=function(){jwplayer("player").setup({playlist:n(),width:width,height:height,controls:!autoPlay,stretching:scaleToFit?"uniform":"none"}),jwplayer().onSetupError(function(e){r(e)}),jwplayer().onReady(function(){var e,n=document.getElementById("player").getElementsByTagName("*"),o=n.length;for(e=0;o>e;e+=1)n[e].className+=" notransition";document.getElementById("player").className+=" notransition",jwplayer().onPlaylistComplete(function(){a()}),jwplayer().onPlay(function(){t()}),jwplayer().onError(function(e){i(e)}),setTimeout(function(){jwplayer().play()},200)})},this.play=function(){viewerPaused=!1,autoPlay&&jwplayer().play()},this.pause=function(){viewerPaused=!0,clearTimeout(pauseTimer),jwplayer().pause()},this.stop=function(){this.pause()},this.remove=function(){viewerPaused=!1,clearTimeout(pauseTimer),pauseTimer=null,jwplayer().remove()}}var files,volume,autoPlay,scaleToFit,pauseDuration,width,height,isLoading=!0,pauseHandlerOn=!1,viewerPaused=!1,pauseTimer=null,player=null;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL3BsYXllci5taW4uanMiXSwibmFtZXMiOlsiaW5pdCIsInBhcmFtcyIsImxpc3QiLCJ3aW5kb3ciLCJvbmNvbnRleHRtZW51Iiwid2lkdGgiLCJoZWlnaHQiLCJ2b2x1bWUiLCJ2aWRlbyIsImF1dG9QbGF5IiwiYXV0b3BsYXkiLCJzY2FsZVRvRml0IiwicGF1c2VEdXJhdGlvbiIsInBhdXNlIiwiZmlsZXMiLCJwbGF5ZXIiLCJQbGF5ZXJKVyIsImxvYWRWaWRlbyIsImRvbmVFdmVudCIsInBhcmVudCIsIlJpc2VWaXNpb24iLCJWaWRlb0ZvbGRlciIsInBsYXllckVuZGVkIiwicmVhZHlFdmVudCIsInBsYXllclJlYWR5IiwiZXJyb3JFdmVudCIsImRhdGEiLCJwbGF5ZXJFcnJvciIsInBsYXkiLCJzdG9wIiwicmVtb3ZlIiwiZ2V0VmlkZW9GaWxlVHlwZSIsInVybCIsImkiLCJleHRlbnNpb25zIiwidXJsTG93ZXJjYXNlIiwidG9Mb3dlckNhc2UiLCJ0eXBlIiwibGVuZ3RoIiwiaW5kZXhPZiIsInN1YnN0ciIsImxhc3RJbmRleE9mIiwiZ2V0UGxheWxpc3QiLCJwbGF5bGlzdCIsInB1c2giLCJzb3VyY2VzIiwiZmlsZSIsIm9uUGxheWxpc3RDb21wbGV0ZSIsIm9uUGxheSIsImlzTG9hZGluZyIsImp3cGxheWVyIiwic2V0TXV0ZSIsInNldFZvbHVtZSIsInBhdXNlSGFuZGxlck9uIiwib25QYXVzZSIsImNsZWFyVGltZW91dCIsInBhdXNlVGltZXIiLCJ2aWV3ZXJQYXVzZWQiLCJzZXRUaW1lb3V0Iiwic2V0Q29udHJvbHMiLCJvblBsYXllckVycm9yIiwiZXJyb3IiLCJpbmRleCIsImdldFBsYXlsaXN0SW5kZXgiLCJtZXNzYWdlIiwib25TZXR1cEVycm9yIiwidGhpcyIsInNldHVwIiwiY29udHJvbHMiLCJzdHJldGNoaW5nIiwib25SZWFkeSIsImVsZW1lbnRzIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImdldEVsZW1lbnRzQnlU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LFdBQVd0QixRQUNWLFFBS1BzQyxLQUFLdEMsS0FBTyxXQUNWNkIsY0FBZSxFQUNYaEQsVUFDRnlDLFdBQVd0QixRQUlmc0MsS0FBS3JELE1BQVEsV0FDWDRDLGNBQWUsRUFDZkYsYUFBYUMsWUFDYk4sV0FBV3JDLFNBR2JxRCxLQUFLckMsS0FBTyxXQUNWcUMsS0FBS3JELFNBR1BxRCxLQUFLcEMsT0FBUyxXQUNaMkIsY0FBZSxFQUNmRixhQUFhQyxZQUNiQSxXQUFhLEtBQ2JOLFdBQVdwQixVQWpPZixHQUFJaEIsT0FDQVAsT0FBUUUsU0FBVUUsV0FBWUMsY0FDOUJQLE1BQU9DLE9BRVAyQyxXQUFZLEVBQ2RJLGdCQUFpQixFQUVmSSxjQUFlLEVBQ2ZELFdBQWEsS0FFYnpDLE9BQVMiLCJmaWxlIjoianMvcGxheWVyLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBmaWxlcztcbnZhciB2b2x1bWUsIGF1dG9QbGF5LCBzY2FsZVRvRml0LCBwYXVzZUR1cmF0aW9uO1xudmFyIHdpZHRoLCBoZWlnaHQ7XG5cbnZhciBpc0xvYWRpbmcgPSB0cnVlLFxuICBwYXVzZUhhbmRsZXJPbiA9IGZhbHNlO1xuXG52YXIgdmlld2VyUGF1c2VkID0gZmFsc2U7XG52YXIgcGF1c2VUaW1lciA9IG51bGw7XG5cbnZhciBwbGF5ZXIgPSBudWxsO1xuXG5mdW5jdGlvbiBpbml0KHBhcmFtcywgbGlzdCkge1xuICB3aW5kb3cub25jb250ZXh0bWVudSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICB3aWR0aCA9IHBhcmFtcy53aWR0aDtcbiAgaGVpZ2h0ID0gcGFyYW1zLmhlaWdodDtcbiAgdm9sdW1lID0gcGFyYW1zLnZpZGVvLnZvbHVtZTtcbiAgYXV0b1BsYXkgPSBwYXJhbXMudmlkZW8uYXV0b3BsYXk7XG4gIHNjYWxlVG9GaXQgPSBwYXJhbXMudmlkZW8uc2NhbGVUb0ZpdDtcbiAgcGF1c2VEdXJhdGlvbiA9IHBhcmFtcy5wYXVzZTtcbiAgZmlsZXMgPSBsaXN0O1xuXG4gIHBsYXllciA9IG5ldyBQbGF5ZXJKVygpO1xuICBwbGF5ZXIubG9hZFZpZGVvKCk7XG59XG5cbmZ1bmN0aW9uIGRvbmVFdmVudCgpIHtcbiAgcGFyZW50LlJpc2VWaXNpb24uVmlkZW9Gb2xkZXIucGxheWVyRW5kZWQoKTtcbn1cblxuZnVuY3Rpb24gcmVhZHlFdmVudCgpIHtcbiAgcGFyZW50LlJpc2VWaXNpb24uVmlkZW9Gb2xkZXIucGxheWVyUmVhZHkoKTtcbn1cblxuZnVuY3Rpb24gZXJyb3JFdmVudChkYXRhKSB7XG4gIHBhcmVudC5SaXNlVmlzaW9uLlZpZGVvRm9sZGVyLnBsYXllckVycm9yKGRhdGEpO1xufVxuXG5mdW5jdGlvbiBwbGF5KCkge1xuICBwbGF5ZXIucGxheSgpO1xufVxuXG5mdW5jdGlvbiBwYXVzZSgpIHtcbiAgcGxheWVyLnBhdXNlKCk7XG59XG5cbmZ1bmN0aW9uIHN0b3AoKSB7XG4gIHBsYXllci5zdG9wKCk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgcGxheWVyLnJlbW92ZSgpO1xufVxuXG5mdW5jdGlvbiBQbGF5ZXJKVygpIHtcbiAgZnVuY3Rpb24gZ2V0VmlkZW9GaWxlVHlwZSh1cmwpIHtcbiAgICB2YXIgZXh0ZW5zaW9ucyA9IFtcIi5tcDRcIiwgXCIud2VibVwiLCBcIi5vZ2dcIiwgXCIub2d2XCJdLFxuICAgICAgdXJsTG93ZXJjYXNlID0gdXJsLnRvTG93ZXJDYXNlKCksXG4gICAgICB0eXBlID0gbnVsbCxcbiAgICAgIGk7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDw9IGV4dGVuc2lvbnMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGlmICh1cmxMb3dlcmNhc2UuaW5kZXhPZihleHRlbnNpb25zW2ldKSAhPT0gLTEpIHtcbiAgICAgICAgdHlwZSA9IGV4dGVuc2lvbnNbaV0uc3Vic3RyKGV4dGVuc2lvbnNbaV0ubGFzdEluZGV4T2YoXCIuXCIpICsgMSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0eXBlID09PSBcIm9ndlwiKSB7XG4gICAgICB0eXBlID0gXCJvZ2dcIjtcbiAgICB9XG5cbiAgICByZXR1cm4gdHlwZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFBsYXlsaXN0KCkge1xuICAgIHZhciBwbGF5bGlzdCA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWxlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgcGxheWxpc3QucHVzaCh7XG4gICAgICAgIHNvdXJjZXM6IFt7XG4gICAgICAgICAgZmlsZTogZmlsZXNbaV0sXG4gICAgICAgICAgdHlwZTogZ2V0VmlkZW9GaWxlVHlwZShmaWxlc1tpXSlcbiAgICAgICAgfV1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBwbGF5bGlzdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uUGxheWxpc3RDb21wbGV0ZSgpIHtcbiAgICBkb25lRXZlbnQoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uUGxheSgpIHtcbiAgICBpZiAoaXNMb2FkaW5nKSB7XG4gICAgICBpc0xvYWRpbmcgPSBmYWxzZTtcblxuICAgICAgandwbGF5ZXIoKS5wYXVzZSgpO1xuICAgICAgandwbGF5ZXIoKS5zZXRNdXRlKGZhbHNlKTtcbiAgICAgIGp3cGxheWVyKCkuc2V0Vm9sdW1lKHZvbHVtZSk7XG5cbiAgICAgIHJlYWR5RXZlbnQoKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIXBhdXNlSGFuZGxlck9uKSB7XG4gICAgICAgIHBhdXNlSGFuZGxlck9uID0gdHJ1ZTtcblxuICAgICAgICAvLyBub3cgZGVmaW5lIHBhdXNlIGhhbmRsZXJcbiAgICAgICAgandwbGF5ZXIoKS5vblBhdXNlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBvblBhdXNlKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBjbGVhclRpbWVvdXQocGF1c2VUaW1lcik7XG4gICAgfVxuXG4gIH1cblxuICBmdW5jdGlvbiBvblBhdXNlKCkge1xuICAgIGlmICghdmlld2VyUGF1c2VkICYmICFpc0xvYWRpbmcpIHtcbiAgICAgIC8vIHVzZXIgaGFzIHBhdXNlZCwgc2V0IGEgdGltZXIgdG8gcGxheSBhZ2FpblxuICAgICAgY2xlYXJUaW1lb3V0KHBhdXNlVGltZXIpO1xuXG4gICAgICBwYXVzZVRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gY29udGludWUgcGxheWluZyB0aGUgY3VycmVudCB2aWRlb1xuICAgICAgICBqd3BsYXllcigpLnBsYXkoKTtcblxuICAgICAgICAvLyB3b3JrYXJvdW5kIGZvciBjb250cm9scyByZW1haW5pbmcgdmlzaWJsZSwgdHVybiB0aGVtIG9mZiBhbmQgb24gYWdhaW5cbiAgICAgICAgandwbGF5ZXIoKS5zZXRDb250cm9scyhmYWxzZSk7XG4gICAgICAgIGp3cGxheWVyKCkuc2V0Q29udHJvbHModHJ1ZSk7XG5cbiAgICAgIH0sIHBhdXNlRHVyYXRpb24gKiAxMDAwKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvblBsYXllckVycm9yKGVycm9yKSB7XG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBlcnJvckV2ZW50KHtcbiAgICAgICAgdHlwZTogXCJ2aWRlb1wiLFxuICAgICAgICBpbmRleDogandwbGF5ZXIoKS5nZXRQbGF5bGlzdEluZGV4KCksXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2VcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG9uU2V0dXBFcnJvcihlcnJvcikge1xuICAgIGlmIChlcnJvcikge1xuICAgICAgZXJyb3JFdmVudCh7XG4gICAgICAgIHR5cGU6IFwic2V0dXBcIixcbiAgICAgICAgaW5kZXg6IDAsXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2VcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHRoaXMubG9hZFZpZGVvID0gZnVuY3Rpb24oKSB7XG4gICAgandwbGF5ZXIoXCJwbGF5ZXJcIikuc2V0dXAoe1xuICAgICAgcGxheWxpc3Q6IGdldFBsYXlsaXN0KCksXG4gICAgICB3aWR0aCA6IHdpZHRoLFxuICAgICAgaGVpZ2h0IDogaGVpZ2h0LFxuICAgICAgY29udHJvbHM6ICFhdXRvUGxheSxcbiAgICAgIHN0cmV0Y2hpbmcgOiBzY2FsZVRvRml0ID8gXCJ1bmlmb3JtXCIgOiBcIm5vbmVcIlxuICAgIH0pO1xuXG4gICAgandwbGF5ZXIoKS5vblNldHVwRXJyb3IoZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICBvblNldHVwRXJyb3IoZXJyb3IpO1xuICAgIH0pO1xuXG4gICAgandwbGF5ZXIoKS5vblJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBlbGVtZW50cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGxheWVyXCIpLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiKlwiKSxcbiAgICAgICAgdG90YWwgPSBlbGVtZW50cy5sZW5ndGgsXG4gICAgICAgIGk7XG5cbiAgICAgIC8vIFdvcmthcm91bmQgZm9yIENocm9tZSBBcHAgUGxheWVyIDx3ZWJ2aWV3PiBub3QgaGFuZGxpbmcgQ1NTMyB0cmFuc2l0aW9uXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgdG90YWw7IGkgKz0gMSkge1xuICAgICAgICBlbGVtZW50c1tpXS5jbGFzc05hbWUgKz0gXCIgbm90cmFuc2l0aW9uXCI7XG4gICAgICB9XG5cbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGxheWVyXCIpLmNsYXNzTmFtZSArPSBcIiBub3RyYW5zaXRpb25cIjtcblxuICAgICAgandwbGF5ZXIoKS5vblBsYXlsaXN0Q29tcGxldGUoZnVuY3Rpb24gKCkge1xuICAgICAgICBvblBsYXlsaXN0Q29tcGxldGUoKTtcbiAgICAgIH0pO1xuXG4gICAgICBqd3BsYXllcigpLm9uUGxheShmdW5jdGlvbiAoKSB7XG4gICAgICAgIG9uUGxheSgpO1xuICAgICAgfSk7XG5cbiAgICAgIGp3cGxheWVyKCkub25FcnJvcihmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgb25QbGF5ZXJFcnJvcihlcnJvcik7XG4gICAgICB9KTtcblxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIG5lZWQgdG8gdGVzdCBpZiB0aGVyZSBpcyBhbiBlcnJvciBwbGF5aW5nIGZpcnN0IHZpZGVvXG4gICAgICAgIGp3cGxheWVyKCkucGxheSgpO1xuICAgICAgfSwgMjAwKTtcblxuICAgIH0pO1xuICB9O1xuXG4gIHRoaXMucGxheSA9IGZ1bmN0aW9uKCkge1xuICAgIHZpZXdlclBhdXNlZCA9IGZhbHNlO1xuICAgIGlmIChhdXRvUGxheSkge1xuICAgICAgandwbGF5ZXIoKS5wbGF5KCk7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMucGF1c2UgPSBmdW5jdGlvbigpIHtcbiAgICB2aWV3ZXJQYXVzZWQgPSB0cnVlO1xuICAgIGNsZWFyVGltZW91dChwYXVzZVRpbWVyKTtcbiAgICBqd3BsYXllcigpLnBhdXNlKCk7XG4gIH07XG5cbiAgdGhpcy5zdG9wID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5wYXVzZSgpO1xuICB9O1xuXG4gIHRoaXMucmVtb3ZlID0gZnVuY3Rpb24oKSB7XG4gICAgdmlld2VyUGF1c2VkID0gZmFsc2U7XG4gICAgY2xlYXJUaW1lb3V0KHBhdXNlVGltZXIpO1xuICAgIHBhdXNlVGltZXIgPSBudWxsO1xuICAgIGp3cGxheWVyKCkucmVtb3ZlKCk7XG4gIH07XG5cbn1cblxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9